slideshow_jquery_image_gallery_backend_script=function(){var $=jQuery,e={};return e.isBackendInitialized=!1,e.init=function(){e.isBackendInitialized||(e.isBackendInitialized=!0,$(document).trigger("slideshowBackendReady"))},$(document).ready(e.init),$(window).load(e.init),e}(),slideshow_jquery_image_gallery_backend_script.generalSettings=function(){var $=jQuery,e={};return e.isCurrentPage=!1,e.init=function(){"slideshow_page_general_settings"===window.pagenow&&(e.isCurrentPage=!0,e.activateUserCapabilities())},e.activateUserCapabilities=function(){$("input").change(function(e){var t=$(e.currentTarget),i="slideshow-jquery-image-gallery-add-slideshows",s="slideshow-jquery-image-gallery-edit-slideshows",l="slideshow-jquery-image-gallery-delete-slideshows",n,a,o;"checkbox"==t.attr("type").toLowerCase()&&(n=t.attr("id").split("_"),a=n.shift(),o=n.join("_"),a!==s||t.attr("checked")?(a===i||a===l)&&$("#"+s+"_"+o).attr("checked",!0):($("#"+i+"_"+o).attr("checked",!1),$("#"+l+"_"+o).attr("checked",!1)))})},$(document).bind("slideshowBackendReady",e.init),e}(),slideshow_jquery_image_gallery_backend_script.generalSettings.customStyles=function(){var $=jQuery,e={};return e.init=function(){slideshow_jquery_image_gallery_backend_script.generalSettings.isCurrentPage&&e.activateNavigation()},e.activateNavigation=function(){$(".nav-tab").click(function(e){var t=$(e.currentTarget),i=$(".nav-tab-active"),s;i.removeClass("nav-tab-active"),t.addClass("nav-tab-active"),$(i.attr("href").replace("#",".")).hide(),$(t.attr("href").replace("#",".")).show(),s=$("input[name=_wp_http_referer]"),s.attr("value",s.attr("value").split("#").shift()+t.attr("href"))}),$('a[href="#'+document.URL.split("#").pop()+'"]').trigger("click")},$(document).bind("slideshowBackendReady",e.init),e}(),slideshow_jquery_image_gallery_backend_script.generalSettings.customStyles=function(){var $=jQuery,e={};return e.init=function(){slideshow_jquery_image_gallery_backend_script.generalSettings.isCurrentPage&&(e.activateActionButtons(),e.activateDeleteButtons())},e.activateActionButtons=function(){$(".custom-styles-tab .styles-list .style-action.style-default").click(function(t){var i=$(t.currentTarget),s=i.closest("li").find(".style-title").html(),l=i.closest("li").find(".style-content").html(),n=window.slideshow_jquery_image_gallery_backend_script_generalSettings,a="slideshow-jquery-image-gallery-custom-styles",o,r,d,c,u;"string"!=typeof l||l.length<=0||("object"==typeof n&&("object"==typeof n.localization&&void 0!==n.localization.newCustomizationPrefix&&n.localization.newCustomizationPrefix.length>0&&(s=n.localization.newCustomizationPrefix+" - "+s),"object"==typeof n.data&&void 0!==n.data.customStylesKey&&n.data.customStylesKey.length>0&&(a=n.data.customStylesKey)),o=a+"_"+(e.getHighestCustomStyleID()+1),c=$(".custom-styles-tab .custom-style-templates"),r=c.find(".style-editor").clone(),r.addClass(o),r.find(".new-custom-style-title").attr("value",s),r.find(".new-custom-style-content").html(l),r.find(".new-custom-style-title").attr("name",a+"["+o+"][title]"),r.find(".new-custom-style-content").attr("name",a+"["+o+"][style]"),$(".custom-styles-tab .style-editors").append(r),setTimeout(function(){r.fadeIn(200)},200),d=c.find(".custom-styles-list-item").clone(!0),d.removeClass("custom-styles-list-item"),d.find(".style-title").html(s),d.find(".style-action").addClass(o),d.find(".style-delete").addClass(o),u=$(".custom-styles-tab .styles-list .custom-styles-list"),u.find(".no-custom-styles-found").remove(),u.append(d))}),$(".custom-styles-tab .styles-list .style-action, .custom-styles-tab .custom-style-templates .custom-styles-list-item .style-action").click(function(e){var t=$(e.currentTarget).attr("class").split(" ")[1];void 0!==t&&($(".custom-styles-tab .style-editors .style-editor").each(function(e,t){$(t).fadeOut(200)}),setTimeout(function(){$(".style-editor."+t).fadeIn(200)},200))})},e.activateDeleteButtons=function(){$(".custom-styles-tab .styles-list .style-delete, .custom-styles-tab .custom-style-templates .custom-styles-list-item .style-delete").click(function(e){var t=$(e.currentTarget),i=t.attr("class").split(" ")[1],s=window.slideshow_jquery_image_gallery_backend_script_generalSettings,l="Are you sure you want to delete this custom style?";void 0!==i&&("object"==typeof s&&"object"==typeof s.localization&&void 0!==s.localization.confirmDeleteMessage&&s.localization.confirmDeleteMessage.length>0&&(l=s.localization.confirmDeleteMessage),confirm(l)&&($(".custom-styles-tab .style-editors .style-editor."+i).remove(),t.closest("li").remove()))})},e.getHighestCustomStyleID=function(){var e=0;return $(".custom-styles-tab .style-editors .style-editor").each(function(t,i){var s=parseInt($(i).attr("class").split("_").pop(),10);s>e&&(e=s)}),parseInt(e,10)},$(document).bind("slideshowBackendReady",e.init),e}(),slideshow_jquery_image_gallery_backend_script.editSlideshow=function(){var $=jQuery,e={};return e.isCurrentPage=!1,e.init=function(){"slideshow"===window.pagenow&&(e.isCurrentPage=!0,e.activateSettingsVisibilityDependency())},e.activateSettingsVisibilityDependency=function(){$(".depends-on-field-value").each(function(t,i){var s=$(i),l=s.attr("class").split(" "),n=s.closest("tr");$('input[name="'+l[1]+'"]:checked').val()==l[2]?n.show():n.hide(),$('input[name="'+l[1]+'"]').change(l,function(t){var i=$("."+l[3]).closest("tr");$(t.currentTarget).val()==l[2]?e.animateElementVisibility(i,!0):e.animateElementVisibility(i,!1)})})},e.animateElementVisibility=function(e,t){var i=$(e);void 0===t&&(i.stop(!0,!0),t=!i.is(":visible")),t?(i.stop(!0,!0).show().css("background-color","#c0dd52"),setTimeout(function(){i.stop(!0,!0).animate({"background-color":"transparent"},1500)},500)):(i.stop(!0,!0).css("background-color","#d44f6e"),setTimeout(function(){i.stop(!0,!0).hide(1500,function(){i.css("background-color","transparent")})},500))},$(document).bind("slideshowBackendReady",e.init),e}(),slideshow_jquery_image_gallery_backend_script.editSlideshow.slideManager=function(){var $=jQuery,e={};return e.uploader=null,e.init=function(){slideshow_jquery_image_gallery_backend_script.editSlideshow.isCurrentPage&&e.activate()},e.activate=function(){e.indexSlidesOrder(),$(".sortable-slides-list").sortable({revert:!0,placeholder:"sortable-placeholder",forcePlaceholderSize:!0,stop:function(){e.indexSlidesOrder()},cancel:"input, select, textarea"}),$(".wp-color-picker-field").wpColorPicker({width:234}),$(".open-slides-button").on("click",function(e){e.preventDefault(),$(".sortable-slides-list .sortable-slides-list-item").each(function(e,t){var i=$(t);i.find(".inside").is(":visible")||i.find(".handlediv").trigger("click")})}),$(".close-slides-button").on("click",function(e){e.preventDefault(),$(".sortable-slides-list .sortable-slides-list-item").each(function(e,t){var i=$(t);i.find(".inside").is(":visible")&&i.find(".handlediv").trigger("click")})}),$(".slideshow-insert-text-slide").on("click",e.insertTextSlide),$(".slideshow-insert-video-slide").on("click",e.insertVideoSlide),$(".slideshow-insert-image-slide").on("click",e.mediaUploader),$(".slideshow-delete-slide").on("click",function(t){e.deleteSlide($(t.currentTarget).closest(".sortable-slides-list-item"))})},e.deleteSlide=function(e){var t="Are you sure you want to delete this slide?",i=window.slideshow_jquery_image_gallery_backend_script_editSlideshow;"object"==typeof i&&"object"==typeof i.localization&&void 0!==i.localization.confirm&&i.localization.confirm.length>0&&(t=i.localization.confirm),confirm(t)&&e.remove()},e.indexSlidesOrder=function(){$(".sortable-slides-list .sortable-slides-list-item").each(function(e,t){$.each($(t).find("input, select, textarea"),function(t,i){var s=$(i),l=s.attr("name"),n;if(!(void 0===l||l.length<=0)){if($(this).hasClass("hidden")){l=l.split("]["),n=l[0];for(var a=1;a<l.length;a++)n+="]["+($.isNumeric(l[a])?e+1:l[a])}else l=l.replace(/[\[\]']+/g," ").split(" "),n=l[0]+"["+(e+1)+"]["+l[2]+"]";s.attr("name",n)}})})},e.mediaUploader=function(t){t.preventDefault();var i,s;return e.uploader?void e.uploader.open():(s=window.slideshow_jquery_image_gallery_backend_script_editSlideshow,i="","object"==typeof s&&"object"==typeof s.localization&&void 0!==s.localization.uploaderTitle&&s.localization.uploaderTitle.length>0&&(i=s.localization.uploaderTitle),e.uploader=wp.media.frames.slideshow_jquery_image_galler_uploader=wp.media({frame:"select",title:i,multiple:!0,library:{type:"image"}}),e.uploader.on("select",function(){var t=e.uploader.state().get("selection").toJSON(),i,s;for(s in t)t.hasOwnProperty(s)&&(i=t[s],e.insertImageSlide(i.id,i.title,i.description,i.url,i.alt))}),void e.uploader.open())},e.insertImageSlide=function(t,i,s,l,n){var a=$(".image-slide-template").find(".sortable-slides-list-item").clone(!0,!0);a.find(".attachment").attr("src",l),a.find(".attachment").attr("title",i),a.find(".attachment").attr("alt",n),a.find(".title").attr("value",i),a.find(".description").html(s),a.find(".alternativeText").attr("value",n),a.find(".postId").attr("value",t),a.find(".title").attr("name","slides[0][title]"),a.find(".titleElementTagID").attr("name","slides[0][titleElementTagID]"),a.find(".description").attr("name","slides[0][description]"),a.find(".descriptionElementTagID").attr("name","slides[0][descriptionElementTagID]"),a.find(".url").attr("name","slides[0][url]"),a.find(".urlTarget").attr("name","slides[0][urlTarget]"),a.find(".alternativeText").attr("name","slides[0][alternativeText]"),a.find(".noFollow").attr("name","slides[0][noFollow]"),a.find(".type").attr("name","slides[0][type]"),a.find(".postId").attr("name","slides[0][postId]"),$(".sortable-slides-list").prepend(a),e.indexSlidesOrder()},e.insertTextSlide=function(){var t=$(".text-slide-template").find(".sortable-slides-list-item").clone(!0,!0);t.find(".title").attr("name","slides[0][title]"),t.find(".titleElementTagID").attr("name","slides[0][titleElementTagID]"),t.find(".description").attr("name","slides[0][description]"),t.find(".descriptionElementTagID").attr("name","slides[0][descriptionElementTagID]"),t.find(".textColor").attr("name","slides[0][textColor]"),t.find(".color").attr("name","slides[0][color]"),t.find(".url").attr("name","slides[0][url]"),t.find(".urlTarget").attr("name","slides[0][urlTarget]"),t.find(".noFollow").attr("name","slides[0][noFollow]"),t.find(".type").attr("name","slides[0][type]"),t.find(".color, .textColor").wpColorPicker(),$(".sortable-slides-list").prepend(t),e.indexSlidesOrder()},e.insertVideoSlide=function(){var t=$(".video-slide-template").find(".sortable-slides-list-item").clone(!0,!0);t.find(".videoId").attr("name","slides[0][videoId]"),t.find(".showRelatedVideos").attr("name","slides[0][showRelatedVideos]"),t.find(".type").attr("name","slides[0][type]"),$(".sortable-slides-list").prepend(t),e.indexSlidesOrder()},$(document).bind("slideshowBackendReady",e.init),e}(),slideshow_jquery_image_gallery_backend_script.shortcode=function(){var $=jQuery,e={};return e.init=function(){e.activateShortcodeInserter()},e.activateShortcodeInserter=function(){$(".insertSlideshowShortcodeSlideshowInsertButton").click(function(){var e="No slideshow selected.",t="slideshow_deploy",i=parseInt($("#insertSlideshowShortcodeSlideshowSelect").val(),10),s=window.slideshow_jquery_image_gallery_backend_script_shortcode;return"object"==typeof s&&("object"==typeof s.data&&void 0!==s.data.shortcode&&s.data.shortcode.length>0&&(t=s.data.shortcode),"object"==typeof s.localization&&void 0!==s.localization.undefinedSlideshow&&s.localization.undefinedSlideshow.length>0&&(e=s.localization.undefinedSlideshow)),isNaN(i)?(alert(e),!1):(send_to_editor("["+t+" id='"+i+"']"),tb_remove(),!0)}),$(".insertSlideshowShortcodeCancelButton").click(function(){return tb_remove(),!1})},$(document).bind("slideshowBackendReady",e.init),e}();